!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.InformationFlowLayoutRender=e()}(this,function(){"use strict";function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}function e(t,e){return Object.assign({},tt,{width:t-20},e)}function n(t,e){return Object.assign({},et,e)}var i=function(){function t(){var e=this;this.genStyle=function(e){var n="";if(e){var i=t.pxStyles;for(var r in e)if(e.hasOwnProperty(r)){var o=e[r],a=!!i[r]&&!isNaN(parseFloat(o))&&isFinite(o);n+=r+":"+e[r]+(a?"px;":";")}}return n},this.appendStyle=function(t,n){var i=e.genStyle(n),r=t.style.cssText;t.style.cssText=r+i}}return t.pxStyles={width:1,height:1,"line-height":1,"padding-left":1,"padding-right":1,"padding-top":1,"padding-bottom":1,"border-width":1,"font-size":1,"margin-left":1,"margin-right":1,"margin-top":1,"margin-bottom":1,"border-left-width":1,"border-right-width":1,"border-top-width":1,"border-bottom-width":1,top:1,left:1,bottom:1,right:1},t}(),r=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),o=t(function(t){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)}),a=function(t){return"object"==typeof t?null!==t:"function"==typeof t},c=function(t){if(!a(t))throw TypeError(t+" is not an object!");return t},l=function(t){try{return!!t()}catch(t){return!0}},f=!l(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),p=r.document,u=a(p)&&a(p.createElement),d=function(t){return u?p.createElement(t):{}},s=!f&&!l(function(){return 7!=Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a}),h=function(t,e){if(!a(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!a(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!a(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!a(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},g=Object.defineProperty,m={f:f?Object.defineProperty:function(t,e,n){if(c(t),e=h(e,!0),c(n),s)try{return g(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},y=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},v=f?function(t,e,n){return m.f(t,e,y(1,n))}:function(t,e,n){return t[e]=n,t},b={}.hasOwnProperty,w=function(t,e){return b.call(t,e)},x=0,C=Math.random(),S=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++x+C).toString(36))},T=t(function(t){var e=S("src"),n=Function.toString,i=(""+n).split("toString");o.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,o,a){var c="function"==typeof o;c&&(w(o,"name")||v(o,"name",n)),t[n]!==o&&(c&&(w(o,e)||v(o,e,t[n]?""+t[n]:i.join(String(n)))),t===r?t[n]=o:a?t[n]?t[n]=o:v(t,n,o):(delete t[n],v(t,n,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),O=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},k=function(t,e,n){if(O(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},I=function(t,e,n){var i,a,c,l,f=t&I.F,p=t&I.G,u=t&I.S,d=t&I.P,s=t&I.B,h=p?r:u?r[e]||(r[e]={}):(r[e]||{}).prototype,g=p?o:o[e]||(o[e]={}),m=g.prototype||(g.prototype={});p&&(n=e);for(i in n)c=((a=!f&&h&&void 0!==h[i])?h:n)[i],l=s&&a?k(c,r):d&&"function"==typeof c?k(Function.call,c):c,h&&T(h,i,c,t&I.U),g[i]!=c&&v(g,i,l),d&&m[i]!=c&&(m[i]=c)};r.core=o,I.F=1,I.G=2,I.S=4,I.P=8,I.B=16,I.W=32,I.U=64,I.R=128;var _=I,j={}.toString,D=function(t){return j.call(t).slice(8,-1)},W=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==D(t)?t.split(""):Object(t)},E=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},M=function(t){return W(E(t))},H=Math.ceil,P=Math.floor,z=function(t){return isNaN(t=+t)?0:(t>0?P:H)(t)},F=Math.min,A=function(t){return t>0?F(z(t),9007199254740991):0},G=Math.max,L=Math.min,R=function(t,e){return(t=z(t))<0?G(t+e,0):L(t,e)},B=r["__core-js_shared__"]||(r["__core-js_shared__"]={}),N=function(t){return B[t]||(B[t]={})}("keys"),U=function(t){return function(e,n,i){var r,o=M(e),a=A(o.length),c=R(i,a);if(t&&n!=n){for(;a>c;)if((r=o[c++])!=r)return!0}else for(;a>c;c++)if((t||c in o)&&o[c]===n)return t||c||0;return!t&&-1}}(!1),X=function(t){return N[t]||(N[t]=S(t))}("IE_PROTO"),q=function(t,e){var n,i=M(t),r=0,o=[];for(n in i)n!=X&&w(i,n)&&o.push(n);for(;e.length>r;)w(i,n=e[r++])&&(~U(o,n)||o.push(n));return o},J="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),K=Object.keys||function(t){return q(t,J)},Q={f:Object.getOwnPropertySymbols},V={f:{}.propertyIsEnumerable},Y=function(t){return Object(E(t))},Z=Object.assign,$=!Z||l(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=Z({},t)[n]||Object.keys(Z({},e)).join("")!=i})?function(t,e){for(var n=Y(t),i=arguments.length,r=1,o=Q.f,a=V.f;i>r;)for(var c,l=W(arguments[r++]),f=o?K(l).concat(o(l)):K(l),p=f.length,u=0;p>u;)a.call(l,c=f[u++])&&(n[c]=l[c]);return n}:Z;_(_.S+_.F,"Object",{assign:$});var tt={"line-height":0,"background-color":"#eee",padding:"",margin:"8px 0px 0px 10px",border:"",left:10,height:1,top:0,position:"",display:"block"},et={width:"",height:12,display:"inline-block",position:"","background-color":"#fff",overflow:"hidden","text-decoration":"none","font-size":12,color:"#999","font-family":"Arial, Helvetica, sans-serif","text-align":"left","line-height":12,"text-overflow":"ellipsis","o-text-overflow":"ellipsis",padding:"",border:""},nt={display:"block",position:"","line-height":"100%","text-align":"left"},it={top:0,left:0,width:"",height:"",display:"inline-block",position:"","font-size":12,color:"#999","font-family":"Arial, Helvetica, sans-serif","text-align":"left","white-space":"nowrap","text-overflow":"ellipsis","o-text-overflow":"ellipsis","margin-right":"8px"},rt={configWrapCreate:function(t,e){return Object.assign({},nt,e)},configItemCreate:function(t,e){return Object.assign({},it,e)}},ot={top:0,left:0,height:"auto",display:"block",position:"","background-color":"#fff",overflow:"hidden","text-decoration":"none"},at={top:0,left:10,height:"auto",display:"block",position:"","font-size":18,color:"#000","font-family":"Arial, Helvetica, sans-serif","text-align":"left","line-height":"auto",overflow:"hidden","text-overflow":"ellipsis","o-text-overflow":"ellipsis","text-decoration":"none",padding:"",margin:"10px 0px 0px 10px",border:""},ct={top:0,left:10,display:"block",position:"","background-size":"cover",overflow:"hidden",border:"",margin:"5px 0px 0px 10px",padding:""},lt={configWrapCreate:function(t,e){return Object.assign({},ot,{width:t},e)},configTitleContainerCreate:function(t,e){return Object.assign({},at,{width:t-20},e)},configImgContainerCreate:function(t,e){var n=t-20;return Object.assign({},ct,{width:n,height:1*n/2.3},e)}},ft={top:0,left:0,display:"block",position:"","background-color":"#fff",overflow:"hidden","text-decoration":"none"},pt={top:15,left:10,display:"inline-block",position:"",border:"",margin:"15px 0px 0px 10px",padding:"","vertical-align":"top"},ut={top:15,display:"inline-block",position:"",border:"",margin:"15px 0px 0px 10px",padding:"","line-height":"100%","vertical-align":"top"},dt={top:18,height:40,display:"inline-block",position:"","font-size":18,color:"#000","font-family":"Arial, Helvetica, sans-serif","text-align":"left","line-height":20},st={configWrapCreate:function(t,e){return Object.assign({},ft,{width:t,height:100*t/320*33/50+10+20},e)},configImgCreate:function(t,e){var n=100*t/320;return Object.assign({},pt,{width:n,height:33*n/50},e)},configRightCreate:function(t,e){var n=100*t/320;return Object.assign({},ut,{left:n+20,width:t-30-n,height:33*n/50},e)},configTitleWrapCreate:function(t,e){var n=100*t/320;return Object.assign({},dt,{left:n+20,width:t-30-n},e)},configTitleCreate:function(t,e){var n=100*t/320;return Object.assign({},dt,{width:t-30-n},e)}},ht={top:0,left:0,height:"auto",display:"block",position:"","background-color":"#fff",overflow:"hidden","text-decoration":"none"},gt={top:0,left:10,height:"auto",display:"block",position:"","font-size":18,color:"#000","font-family":"Arial, Helvetica, sans-serif","text-align":"left","line-height":20,overflow:"hidden","-webkit-line-clamp":"2","text-overflow":"ellipsis","o-text-overflow":"ellipsis","text-decoration":"none",padding:"",margin:"15px 10px 0px",border:""},mt={top:5,left:10,display:"inline-block",position:"",padding:"",margin:"5px 0px 10px 10px",border:""},yt={configWrapCreate:function(t,e){return Object.assign({},ht,{width:t},e)},configTitleCreate:function(t,e){return Object.assign({},gt,{width:t-20},e)},configImgItemCreate:function(t,e,n){void 0===n&&(n=3);var i=(t-20-2*n)/n;return Object.assign({},mt,{width:i,height:66*i/98},e)}},vt=new i;return function(){function t(){document.body&&document.body.clientWidth?this.winWidth=document.body&&document.body.clientWidth:this.winWidth=window.innerWidth}return t.prototype.render=function(e,n){var i,r=this,o=document.body,a=document.createDocumentFragment();if(e&&"string"==typeof e?i=document.getElementById(e)||o:"object"==typeof e&&e instanceof HTMLElement&&(i=e),i){var c=t.layoutType.BIG_IMG,l=t.layoutType.IMG_TEXT,f=t.layoutType.IMGS;n.forEach(function(t){switch(t.stype){case c:r.renderBigImgItem(a,t);break;case l:r.renderImgTextItem(a,t);break;case f:r.renderImgsItem(a,t);break;default:return}}),i.appendChild(a)}},t.prototype.buildDom=function(t,e,n){void 0===e&&(e={});var i=document.createElement(t);for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);if(n){var o=n();vt.appendStyle(i,o)}return i},t.prototype.renderBigImgItem=function(e,n){var i=n.title,r=n.curl,o=n.imageUrl,a=n.target,c=n.type,l=n.src,f=n.desc,p=n.time;if(o){var u=this.winWidth,d=this.buildDom("a",{href:r,target:a||"_self",title:i},function(){return lt.configWrapCreate(u)}),s=this.buildDom("span",{innerHTML:i},function(){return lt.configTitleContainerCreate(u)});d.appendChild(s);var h=this.buildDom("div",{},function(){return lt.configImgContainerCreate(u)});if(h.style.background="url("+o+") center center no-repeat",h.style.backgroundSize="cover",d.appendChild(h),c===t.remarkType.SHOW_DESC&&f){var g=this.createDescDom(f,10,10);d.appendChild(g)}else if(c===t.remarkType.SHOW_SRC_TIME&&l&&p){var m=this.createSrcAndTimeDom(l,p,10,10,20);d.appendChild(m)}var y=this.createLineDom(0,"");return d.appendChild(y),e.appendChild(d),e}},t.prototype.renderImgTextItem=function(e,n){var i=n.title,r=n.curl,o=n.imageUrl,a=n.target,c=n.type,l=n.src,f=n.time,p=n.desc;if(o){var u=this.winWidth,d=this.buildDom("a",{href:r,target:a||"_self",title:i},function(){return st.configWrapCreate(u)}),s=this.buildDom("div",{},function(){return st.configImgCreate(u)});s.style.background="url("+o+") center center no-repeat",s.style.backgroundSize="cover",d.appendChild(s);var h=this.buildDom("div",{},function(){return st.configRightCreate(u)}),g=this.buildDom("div",{},function(){return st.configTitleWrapCreate(u)}),m=this.buildDom("span",{innerText:i},function(){return st.configTitleCreate(u)});if(g.appendChild(m),h.appendChild(g),c===t.remarkType.SHOW_DESC&&p){var y=this.createDescDom(p,10,0);h.appendChild(y)}else if(c===t.remarkType.SHOW_SRC_TIME&&l&&f){var v=this.createSrcAndTimeDom(l,f,5,0,20);h.appendChild(v)}d.appendChild(h);var b=this.createLineDom(13,"");return d.appendChild(b),e.appendChild(d),e}},t.prototype.renderImgsItem=function(e,n){var i=n.title,r=n.curl,o=n.images,a=n.target,c=n.desc,l=n.src,f=n.time,p=n.type;if(o&&0!==o.length){var u=this.winWidth,d=this.buildDom("a",{href:r,target:a||"_self",title:i},function(){return yt.configWrapCreate(u)}),s=this.buildDom("span",{innerText:i},function(){return yt.configTitleCreate(u)});d.appendChild(s);for(var h=o.length,g=this,m=0;m<h;m++)!function(t){var e=o[t],n={};0!==t&&(n["margin-left"]="3px");var i=g.buildDom("div",{},function(){return yt.configImgItemCreate(u,n,h)});i.style.background="url("+e+") center center no-repeat",i.style.backgroundSize="cover",d.appendChild(i)}(m);if(p===t.remarkType.SHOW_DESC&&c){var y=this.createDescDom(c,0,10);d.appendChild(y)}else if(p===t.remarkType.SHOW_SRC_TIME&&l&&f){var v=this.createSrcAndTimeDom(l,f,0,10,20);d.appendChild(v)}var b=this.createLineDom(0,"");return d.appendChild(b),e.appendChild(d),e}},t.prototype.createLineDom=function(t,n){var i=this;return this.buildDom("div",{},function(){return e(i.winWidth,{top:t,position:n})})},t.prototype.createDescDom=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var r=document.createElement("div");if(!t)return r;r.innerHTML=t;var o=n(this.winWidth,{top:e,left:i,"margin-top":e,"margin-left":i});return vt.appendStyle(r,o),r},t.prototype.createSrcAndTimeDom=function(t,e,n,i,r){var o=document.createElement("div");if(!t||!e)return o;console.log("top"),console.log(n);var a={top:n,left:i,height:r,"margin-left":i,"margin-top":n},c=rt.configWrapCreate(this.winWidth,a);vt.appendStyle(o,c);var l=document.createElement("div"),f=rt.configItemCreate(this.winWidth,{"line-height":r});l.innerText=t,vt.appendStyle(l,f);var p=document.createElement("div");return p.innerText=e,vt.appendStyle(p,f),o.appendChild(l),o.appendChild(p),o},t.layoutType={BIG_IMG:0,IMG_TEXT:1,IMGS:2},t.remarkType={SHOW_DESC:0,SHOW_SRC_TIME:1},t}()});
//# sourceMappingURL=information-flow-layout-render.umd.js.map
